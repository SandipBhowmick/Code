<script type="text/javascript">

	$(document).ready(function(){
		$("#user_country_id").on('change',function(){
			 $("#user_state_id").empty().append('Select One');
			
			 var id = $(this).val();   
			$.ajax({          
					type: "get",
					url: "<%= get_states_path %>",
					
					data: {"id" : id},
					success: function(r){
						// $("#user_state_id").append('Select One');
						$.each(r.res, function(key, value){

							$("#user_state_id").append("<option value='" + value.id + "'>" + value.state_name +"</option>");
							      });

					}, 
				});
			});
	});

</script>

<%= link_to("<< Back to List", root_path) %>
<div class="new user">
  <h2>User Registration</h2>
  		<%= form_for @user, :url => {:controller => "users", :action => "create"}  do |f| %>
 		<%= render(:partial =>"form", :locals => {:f => f}) %>
    <div class="form-buttons">
		<%= submit_tag("Register") %>
    </div>

  <% end %>
</div>











<table>	
	<tr>
		<th><%=f.label(:first_name, "First Name")%></th>
		<td><%= f.text_field(:first_name, placeholder: "Enter Your First Name") %></td>
	</tr>
	<tr>
		<th><%=f.label(:last_name, "Last Name")%></th>
		<td><%= f.text_field(:last_name, placeholder: "Enter Your Last Name") %></td>
	</tr>
	<tr>
		<th><%=f.label(:profile_image, "Selece your profile image")%></th>
		<td><%= f.attachment_field :profile_image %></td>
	</tr>	
	<tr>
		<th><%=f.label(:gender, "Select Gender")%></th>
		<td><%= f.radio_button :gender, 'm' %> M
    <%= f.radio_button :gender, 'f' %> F</td>
	</tr>
	<tr>
	<th><%=f.label(:country_id, "Country")%></th>
	<th><%= f.select(:country_id,Country.all.order('country_name ASC').collect {|p| [ p.country_name, p.id ] }, { include_blank: false, :include_blank => 'Select one country'}) %></th>
	</tr>

	<tr>
	<th><%=f.label(:state_id, "State")%></th>
	<th><%= f.select(:state_id,options_for_select([]),:include_blank => 'Select one state') %></th>
	</tr>

	<tr>
	<th><%=f.label(:interest, "Interest")%></th>

	<th><%=f.collection_check_boxes :interest, User::GET_INTEREST, :last,:first, :input_html => { :class => 'checkbox' }%></th>
	
	</tr>	
	<tr>
		<th><%=f.label(:address, "address")%></th>
		<td><%= f.text_area(:address, placeholder: "Enter Your address") %></td>
	</tr>
	<tr>
		<th><%=f.label(:email, "e-mail id")%></th>
		<td><%= f.text_field(:email, placeholder: "Enter Your email id") %></td>
	</tr>
	<tr>
		<th><%=f.label(:password, "Password")%></th>
		<td><%= f.password_field(:password, placeholder: "Enter Your Password") %></td>
	</tr>
	<tr>
		<th><%=f.label(:password, "Password Confirmation")%></th>
		<td><%= f.password_field(:password_confirmation, placeholder: "Re-enter Your Password") %></td>
	</tr>	
</table>
